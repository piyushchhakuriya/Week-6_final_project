{"ast":null,"code":"import { Util } from \"./Util.js\";\nimport { Animation } from \"./Animation.js\";\nimport { Node } from \"./Node.js\";\nimport { Konva } from \"./Global.js\";\nconst blacklist = {\n    node: 1,\n    duration: 1,\n    easing: 1,\n    onFinish: 1,\n    yoyo: 1\n  },\n  PAUSED = 1,\n  PLAYING = 2,\n  REVERSING = 3,\n  colorAttrs = ['fill', 'stroke', 'shadowColor'];\nlet idCounter = 0;\nclass TweenEngine {\n  constructor(prop, propFunc, func, begin, finish, duration, yoyo) {\n    this.prop = prop;\n    this.propFunc = propFunc;\n    this.begin = begin;\n    this._pos = begin;\n    this.duration = duration;\n    this._change = 0;\n    this.prevPos = 0;\n    this.yoyo = yoyo;\n    this._time = 0;\n    this._position = 0;\n    this._startTime = 0;\n    this._finish = 0;\n    this.func = func;\n    this._change = finish - this.begin;\n    this.pause();\n  }\n  fire(str) {\n    const handler = this[str];\n    if (handler) {\n      handler();\n    }\n  }\n  setTime(t) {\n    if (t > this.duration) {\n      if (this.yoyo) {\n        this._time = this.duration;\n        this.reverse();\n      } else {\n        this.finish();\n      }\n    } else if (t < 0) {\n      if (this.yoyo) {\n        this._time = 0;\n        this.play();\n      } else {\n        this.reset();\n      }\n    } else {\n      this._time = t;\n      this.update();\n    }\n  }\n  getTime() {\n    return this._time;\n  }\n  setPosition(p) {\n    this.prevPos = this._pos;\n    this.propFunc(p);\n    this._pos = p;\n  }\n  getPosition(t) {\n    if (t === undefined) {\n      t = this._time;\n    }\n    return this.func(t, this.begin, this._change, this.duration);\n  }\n  play() {\n    this.state = PLAYING;\n    this._startTime = this.getTimer() - this._time;\n    this.onEnterFrame();\n    this.fire('onPlay');\n  }\n  reverse() {\n    this.state = REVERSING;\n    this._time = this.duration - this._time;\n    this._startTime = this.getTimer() - this._time;\n    this.onEnterFrame();\n    this.fire('onReverse');\n  }\n  seek(t) {\n    this.pause();\n    this._time = t;\n    this.update();\n    this.fire('onSeek');\n  }\n  reset() {\n    this.pause();\n    this._time = 0;\n    this.update();\n    this.fire('onReset');\n  }\n  finish() {\n    this.pause();\n    this._time = this.duration;\n    this.update();\n    this.fire('onFinish');\n  }\n  update() {\n    this.setPosition(this.getPosition(this._time));\n    this.fire('onUpdate');\n  }\n  onEnterFrame() {\n    const t = this.getTimer() - this._startTime;\n    if (this.state === PLAYING) {\n      this.setTime(t);\n    } else if (this.state === REVERSING) {\n      this.setTime(this.duration - t);\n    }\n  }\n  pause() {\n    this.state = PAUSED;\n    this.fire('onPause');\n  }\n  getTimer() {\n    return new Date().getTime();\n  }\n}\nexport class Tween {\n  constructor(config) {\n    const that = this,\n      node = config.node,\n      nodeId = node._id,\n      easing = config.easing || Easings.Linear,\n      yoyo = !!config.yoyo;\n    let duration, key;\n    if (typeof config.duration === 'undefined') {\n      duration = 0.3;\n    } else if (config.duration === 0) {\n      duration = 0.001;\n    } else {\n      duration = config.duration;\n    }\n    this.node = node;\n    this._id = idCounter++;\n    const layers = node.getLayer() || (node instanceof Konva['Stage'] ? node.getLayers() : null);\n    if (!layers) {\n      Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n    }\n    this.anim = new Animation(function () {\n      that.tween.onEnterFrame();\n    }, layers);\n    this.tween = new TweenEngine(key, function (i) {\n      that._tweenFunc(i);\n    }, easing, 0, 1, duration * 1000, yoyo);\n    this._addListeners();\n    if (!Tween.attrs[nodeId]) {\n      Tween.attrs[nodeId] = {};\n    }\n    if (!Tween.attrs[nodeId][this._id]) {\n      Tween.attrs[nodeId][this._id] = {};\n    }\n    if (!Tween.tweens[nodeId]) {\n      Tween.tweens[nodeId] = {};\n    }\n    for (key in config) {\n      if (blacklist[key] === undefined) {\n        this._addAttr(key, config[key]);\n      }\n    }\n    this.reset();\n    this.onFinish = config.onFinish;\n    this.onReset = config.onReset;\n    this.onUpdate = config.onUpdate;\n  }\n  _addAttr(key, end) {\n    const node = this.node,\n      nodeId = node._id;\n    let diff, len, trueEnd, trueStart, endRGBA;\n    const tweenId = Tween.tweens[nodeId][key];\n    if (tweenId) {\n      delete Tween.attrs[nodeId][tweenId][key];\n    }\n    let start = node.getAttr(key);\n    if (Util._isArray(end)) {\n      diff = [];\n      len = Math.max(end.length, start.length);\n      if (key === 'points' && end.length !== start.length) {\n        if (end.length > start.length) {\n          trueStart = start;\n          start = Util._prepareArrayForTween(start, end, node.closed());\n        } else {\n          trueEnd = end;\n          end = Util._prepareArrayForTween(end, start, node.closed());\n        }\n      }\n      if (key.indexOf('fill') === 0) {\n        for (let n = 0; n < len; n++) {\n          if (n % 2 === 0) {\n            diff.push(end[n] - start[n]);\n          } else {\n            const startRGBA = Util.colorToRGBA(start[n]);\n            endRGBA = Util.colorToRGBA(end[n]);\n            start[n] = startRGBA;\n            diff.push({\n              r: endRGBA.r - startRGBA.r,\n              g: endRGBA.g - startRGBA.g,\n              b: endRGBA.b - startRGBA.b,\n              a: endRGBA.a - startRGBA.a\n            });\n          }\n        }\n      } else {\n        for (let n = 0; n < len; n++) {\n          diff.push(end[n] - start[n]);\n        }\n      }\n    } else if (colorAttrs.indexOf(key) !== -1) {\n      start = Util.colorToRGBA(start);\n      endRGBA = Util.colorToRGBA(end);\n      diff = {\n        r: endRGBA.r - start.r,\n        g: endRGBA.g - start.g,\n        b: endRGBA.b - start.b,\n        a: endRGBA.a - start.a\n      };\n    } else {\n      diff = end - start;\n    }\n    Tween.attrs[nodeId][this._id][key] = {\n      start: start,\n      diff: diff,\n      end: end,\n      trueEnd: trueEnd,\n      trueStart: trueStart\n    };\n    Tween.tweens[nodeId][key] = this._id;\n  }\n  _tweenFunc(i) {\n    const node = this.node,\n      attrs = Tween.attrs[node._id][this._id];\n    let key, attr, start, diff, newVal, n, len, end;\n    for (key in attrs) {\n      attr = attrs[key];\n      start = attr.start;\n      diff = attr.diff;\n      end = attr.end;\n      if (Util._isArray(start)) {\n        newVal = [];\n        len = Math.max(start.length, end.length);\n        if (key.indexOf('fill') === 0) {\n          for (n = 0; n < len; n++) {\n            if (n % 2 === 0) {\n              newVal.push((start[n] || 0) + diff[n] * i);\n            } else {\n              newVal.push('rgba(' + Math.round(start[n].r + diff[n].r * i) + ',' + Math.round(start[n].g + diff[n].g * i) + ',' + Math.round(start[n].b + diff[n].b * i) + ',' + (start[n].a + diff[n].a * i) + ')');\n            }\n          }\n        } else {\n          for (n = 0; n < len; n++) {\n            newVal.push((start[n] || 0) + diff[n] * i);\n          }\n        }\n      } else if (colorAttrs.indexOf(key) !== -1) {\n        newVal = 'rgba(' + Math.round(start.r + diff.r * i) + ',' + Math.round(start.g + diff.g * i) + ',' + Math.round(start.b + diff.b * i) + ',' + (start.a + diff.a * i) + ')';\n      } else {\n        newVal = start + diff * i;\n      }\n      node.setAttr(key, newVal);\n    }\n  }\n  _addListeners() {\n    this.tween.onPlay = () => {\n      this.anim.start();\n    };\n    this.tween.onReverse = () => {\n      this.anim.start();\n    };\n    this.tween.onPause = () => {\n      this.anim.stop();\n    };\n    this.tween.onFinish = () => {\n      const node = this.node;\n      const attrs = Tween.attrs[node._id][this._id];\n      if (attrs.points && attrs.points.trueEnd) {\n        node.setAttr('points', attrs.points.trueEnd);\n      }\n      if (this.onFinish) {\n        this.onFinish.call(this);\n      }\n    };\n    this.tween.onReset = () => {\n      const node = this.node;\n      const attrs = Tween.attrs[node._id][this._id];\n      if (attrs.points && attrs.points.trueStart) {\n        node.points(attrs.points.trueStart);\n      }\n      if (this.onReset) {\n        this.onReset();\n      }\n    };\n    this.tween.onUpdate = () => {\n      if (this.onUpdate) {\n        this.onUpdate.call(this);\n      }\n    };\n  }\n  play() {\n    this.tween.play();\n    return this;\n  }\n  reverse() {\n    this.tween.reverse();\n    return this;\n  }\n  reset() {\n    this.tween.reset();\n    return this;\n  }\n  seek(t) {\n    this.tween.seek(t * 1000);\n    return this;\n  }\n  pause() {\n    this.tween.pause();\n    return this;\n  }\n  finish() {\n    this.tween.finish();\n    return this;\n  }\n  destroy() {\n    const nodeId = this.node._id,\n      thisId = this._id,\n      attrs = Tween.tweens[nodeId];\n    this.pause();\n    if (this.anim) {\n      this.anim.stop();\n    }\n    for (const key in attrs) {\n      delete Tween.tweens[nodeId][key];\n    }\n    delete Tween.attrs[nodeId][thisId];\n    if (Tween.tweens[nodeId]) {\n      if (Object.keys(Tween.tweens[nodeId]).length === 0) {\n        delete Tween.tweens[nodeId];\n      }\n      if (Object.keys(Tween.attrs[nodeId]).length === 0) {\n        delete Tween.attrs[nodeId];\n      }\n    }\n  }\n}\nTween.attrs = {};\nTween.tweens = {};\nNode.prototype.to = function (params) {\n  const onFinish = params.onFinish;\n  params.node = this;\n  params.onFinish = function () {\n    this.destroy();\n    if (onFinish) {\n      onFinish();\n    }\n  };\n  const tween = new Tween(params);\n  tween.play();\n};\nexport const Easings = {\n  BackEaseIn(t, b, c, d) {\n    const s = 1.70158;\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  },\n  BackEaseOut(t, b, c, d) {\n    const s = 1.70158;\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  },\n  BackEaseInOut(t, b, c, d) {\n    let s = 1.70158;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n    }\n    return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n  },\n  ElasticEaseIn(t, b, c, d, a, p) {\n    let s = 0;\n    if (t === 0) {\n      return b;\n    }\n    if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n  },\n  ElasticEaseOut(t, b, c, d, a, p) {\n    let s = 0;\n    if (t === 0) {\n      return b;\n    }\n    if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n  },\n  ElasticEaseInOut(t, b, c, d, a, p) {\n    let s = 0;\n    if (t === 0) {\n      return b;\n    }\n    if ((t /= d / 2) === 2) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * (0.3 * 1.5);\n    }\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    if (t < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    }\n    return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;\n  },\n  BounceEaseOut(t, b, c, d) {\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b;\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n    }\n  },\n  BounceEaseIn(t, b, c, d) {\n    return c - Easings.BounceEaseOut(d - t, 0, c, d) + b;\n  },\n  BounceEaseInOut(t, b, c, d) {\n    if (t < d / 2) {\n      return Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n    } else {\n      return Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n    }\n  },\n  EaseIn(t, b, c, d) {\n    return c * (t /= d) * t + b;\n  },\n  EaseOut(t, b, c, d) {\n    return -c * (t /= d) * (t - 2) + b;\n  },\n  EaseInOut(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t + b;\n    }\n    return -c / 2 * (--t * (t - 2) - 1) + b;\n  },\n  StrongEaseIn(t, b, c, d) {\n    return c * (t /= d) * t * t * t * t + b;\n  },\n  StrongEaseOut(t, b, c, d) {\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  },\n  StrongEaseInOut(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t * t * t + b;\n    }\n    return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n  },\n  Linear(t, b, c, d) {\n    return c * t / d + b;\n  }\n};","map":{"version":3,"names":["Util","Animation","Node","Konva","blacklist","node","duration","easing","onFinish","yoyo","PAUSED","PLAYING","REVERSING","colorAttrs","idCounter","TweenEngine","constructor","prop","propFunc","func","begin","finish","_pos","_change","prevPos","_time","_position","_startTime","_finish","pause","fire","str","handler","setTime","t","reverse","play","reset","update","getTime","setPosition","p","getPosition","undefined","state","getTimer","onEnterFrame","seek","Date","Tween","config","that","nodeId","_id","Easings","Linear","key","layers","getLayer","getLayers","error","anim","tween","i","_tweenFunc","_addListeners","attrs","tweens","_addAttr","onReset","onUpdate","end","diff","len","trueEnd","trueStart","endRGBA","tweenId","start","getAttr","_isArray","Math","max","length","_prepareArrayForTween","closed","indexOf","n","push","startRGBA","colorToRGBA","r","g","b","a","attr","newVal","round","setAttr","onPlay","onReverse","onPause","stop","points","call","destroy","thisId","Object","keys","prototype","to","params","BackEaseIn","c","d","s","BackEaseOut","BackEaseInOut","ElasticEaseIn","abs","PI","asin","pow","sin","ElasticEaseOut","ElasticEaseInOut","BounceEaseOut","BounceEaseIn","BounceEaseInOut","EaseIn","EaseOut","EaseInOut","StrongEaseIn","StrongEaseOut","StrongEaseInOut"],"sources":["C:/Users/lenovo pro/Documents/gncipl-6-week/Week-6_final_project/matty-project/client/node_modules/konva/lib/Tween.js"],"sourcesContent":["import { Util } from \"./Util.js\";\r\nimport { Animation } from \"./Animation.js\";\r\nimport { Node } from \"./Node.js\";\r\nimport { Konva } from \"./Global.js\";\r\nconst blacklist = {\r\n    node: 1,\r\n    duration: 1,\r\n    easing: 1,\r\n    onFinish: 1,\r\n    yoyo: 1,\r\n}, PAUSED = 1, PLAYING = 2, REVERSING = 3, colorAttrs = ['fill', 'stroke', 'shadowColor'];\r\nlet idCounter = 0;\r\nclass TweenEngine {\r\n    constructor(prop, propFunc, func, begin, finish, duration, yoyo) {\r\n        this.prop = prop;\r\n        this.propFunc = propFunc;\r\n        this.begin = begin;\r\n        this._pos = begin;\r\n        this.duration = duration;\r\n        this._change = 0;\r\n        this.prevPos = 0;\r\n        this.yoyo = yoyo;\r\n        this._time = 0;\r\n        this._position = 0;\r\n        this._startTime = 0;\r\n        this._finish = 0;\r\n        this.func = func;\r\n        this._change = finish - this.begin;\r\n        this.pause();\r\n    }\r\n    fire(str) {\r\n        const handler = this[str];\r\n        if (handler) {\r\n            handler();\r\n        }\r\n    }\r\n    setTime(t) {\r\n        if (t > this.duration) {\r\n            if (this.yoyo) {\r\n                this._time = this.duration;\r\n                this.reverse();\r\n            }\r\n            else {\r\n                this.finish();\r\n            }\r\n        }\r\n        else if (t < 0) {\r\n            if (this.yoyo) {\r\n                this._time = 0;\r\n                this.play();\r\n            }\r\n            else {\r\n                this.reset();\r\n            }\r\n        }\r\n        else {\r\n            this._time = t;\r\n            this.update();\r\n        }\r\n    }\r\n    getTime() {\r\n        return this._time;\r\n    }\r\n    setPosition(p) {\r\n        this.prevPos = this._pos;\r\n        this.propFunc(p);\r\n        this._pos = p;\r\n    }\r\n    getPosition(t) {\r\n        if (t === undefined) {\r\n            t = this._time;\r\n        }\r\n        return this.func(t, this.begin, this._change, this.duration);\r\n    }\r\n    play() {\r\n        this.state = PLAYING;\r\n        this._startTime = this.getTimer() - this._time;\r\n        this.onEnterFrame();\r\n        this.fire('onPlay');\r\n    }\r\n    reverse() {\r\n        this.state = REVERSING;\r\n        this._time = this.duration - this._time;\r\n        this._startTime = this.getTimer() - this._time;\r\n        this.onEnterFrame();\r\n        this.fire('onReverse');\r\n    }\r\n    seek(t) {\r\n        this.pause();\r\n        this._time = t;\r\n        this.update();\r\n        this.fire('onSeek');\r\n    }\r\n    reset() {\r\n        this.pause();\r\n        this._time = 0;\r\n        this.update();\r\n        this.fire('onReset');\r\n    }\r\n    finish() {\r\n        this.pause();\r\n        this._time = this.duration;\r\n        this.update();\r\n        this.fire('onFinish');\r\n    }\r\n    update() {\r\n        this.setPosition(this.getPosition(this._time));\r\n        this.fire('onUpdate');\r\n    }\r\n    onEnterFrame() {\r\n        const t = this.getTimer() - this._startTime;\r\n        if (this.state === PLAYING) {\r\n            this.setTime(t);\r\n        }\r\n        else if (this.state === REVERSING) {\r\n            this.setTime(this.duration - t);\r\n        }\r\n    }\r\n    pause() {\r\n        this.state = PAUSED;\r\n        this.fire('onPause');\r\n    }\r\n    getTimer() {\r\n        return new Date().getTime();\r\n    }\r\n}\r\nexport class Tween {\r\n    constructor(config) {\r\n        const that = this, node = config.node, nodeId = node._id, easing = config.easing || Easings.Linear, yoyo = !!config.yoyo;\r\n        let duration, key;\r\n        if (typeof config.duration === 'undefined') {\r\n            duration = 0.3;\r\n        }\r\n        else if (config.duration === 0) {\r\n            duration = 0.001;\r\n        }\r\n        else {\r\n            duration = config.duration;\r\n        }\r\n        this.node = node;\r\n        this._id = idCounter++;\r\n        const layers = node.getLayer() ||\r\n            (node instanceof Konva['Stage'] ? node.getLayers() : null);\r\n        if (!layers) {\r\n            Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\r\n        }\r\n        this.anim = new Animation(function () {\r\n            that.tween.onEnterFrame();\r\n        }, layers);\r\n        this.tween = new TweenEngine(key, function (i) {\r\n            that._tweenFunc(i);\r\n        }, easing, 0, 1, duration * 1000, yoyo);\r\n        this._addListeners();\r\n        if (!Tween.attrs[nodeId]) {\r\n            Tween.attrs[nodeId] = {};\r\n        }\r\n        if (!Tween.attrs[nodeId][this._id]) {\r\n            Tween.attrs[nodeId][this._id] = {};\r\n        }\r\n        if (!Tween.tweens[nodeId]) {\r\n            Tween.tweens[nodeId] = {};\r\n        }\r\n        for (key in config) {\r\n            if (blacklist[key] === undefined) {\r\n                this._addAttr(key, config[key]);\r\n            }\r\n        }\r\n        this.reset();\r\n        this.onFinish = config.onFinish;\r\n        this.onReset = config.onReset;\r\n        this.onUpdate = config.onUpdate;\r\n    }\r\n    _addAttr(key, end) {\r\n        const node = this.node, nodeId = node._id;\r\n        let diff, len, trueEnd, trueStart, endRGBA;\r\n        const tweenId = Tween.tweens[nodeId][key];\r\n        if (tweenId) {\r\n            delete Tween.attrs[nodeId][tweenId][key];\r\n        }\r\n        let start = node.getAttr(key);\r\n        if (Util._isArray(end)) {\r\n            diff = [];\r\n            len = Math.max(end.length, start.length);\r\n            if (key === 'points' && end.length !== start.length) {\r\n                if (end.length > start.length) {\r\n                    trueStart = start;\r\n                    start = Util._prepareArrayForTween(start, end, node.closed());\r\n                }\r\n                else {\r\n                    trueEnd = end;\r\n                    end = Util._prepareArrayForTween(end, start, node.closed());\r\n                }\r\n            }\r\n            if (key.indexOf('fill') === 0) {\r\n                for (let n = 0; n < len; n++) {\r\n                    if (n % 2 === 0) {\r\n                        diff.push(end[n] - start[n]);\r\n                    }\r\n                    else {\r\n                        const startRGBA = Util.colorToRGBA(start[n]);\r\n                        endRGBA = Util.colorToRGBA(end[n]);\r\n                        start[n] = startRGBA;\r\n                        diff.push({\r\n                            r: endRGBA.r - startRGBA.r,\r\n                            g: endRGBA.g - startRGBA.g,\r\n                            b: endRGBA.b - startRGBA.b,\r\n                            a: endRGBA.a - startRGBA.a,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                for (let n = 0; n < len; n++) {\r\n                    diff.push(end[n] - start[n]);\r\n                }\r\n            }\r\n        }\r\n        else if (colorAttrs.indexOf(key) !== -1) {\r\n            start = Util.colorToRGBA(start);\r\n            endRGBA = Util.colorToRGBA(end);\r\n            diff = {\r\n                r: endRGBA.r - start.r,\r\n                g: endRGBA.g - start.g,\r\n                b: endRGBA.b - start.b,\r\n                a: endRGBA.a - start.a,\r\n            };\r\n        }\r\n        else {\r\n            diff = end - start;\r\n        }\r\n        Tween.attrs[nodeId][this._id][key] = {\r\n            start: start,\r\n            diff: diff,\r\n            end: end,\r\n            trueEnd: trueEnd,\r\n            trueStart: trueStart,\r\n        };\r\n        Tween.tweens[nodeId][key] = this._id;\r\n    }\r\n    _tweenFunc(i) {\r\n        const node = this.node, attrs = Tween.attrs[node._id][this._id];\r\n        let key, attr, start, diff, newVal, n, len, end;\r\n        for (key in attrs) {\r\n            attr = attrs[key];\r\n            start = attr.start;\r\n            diff = attr.diff;\r\n            end = attr.end;\r\n            if (Util._isArray(start)) {\r\n                newVal = [];\r\n                len = Math.max(start.length, end.length);\r\n                if (key.indexOf('fill') === 0) {\r\n                    for (n = 0; n < len; n++) {\r\n                        if (n % 2 === 0) {\r\n                            newVal.push((start[n] || 0) + diff[n] * i);\r\n                        }\r\n                        else {\r\n                            newVal.push('rgba(' +\r\n                                Math.round(start[n].r + diff[n].r * i) +\r\n                                ',' +\r\n                                Math.round(start[n].g + diff[n].g * i) +\r\n                                ',' +\r\n                                Math.round(start[n].b + diff[n].b * i) +\r\n                                ',' +\r\n                                (start[n].a + diff[n].a * i) +\r\n                                ')');\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    for (n = 0; n < len; n++) {\r\n                        newVal.push((start[n] || 0) + diff[n] * i);\r\n                    }\r\n                }\r\n            }\r\n            else if (colorAttrs.indexOf(key) !== -1) {\r\n                newVal =\r\n                    'rgba(' +\r\n                        Math.round(start.r + diff.r * i) +\r\n                        ',' +\r\n                        Math.round(start.g + diff.g * i) +\r\n                        ',' +\r\n                        Math.round(start.b + diff.b * i) +\r\n                        ',' +\r\n                        (start.a + diff.a * i) +\r\n                        ')';\r\n            }\r\n            else {\r\n                newVal = start + diff * i;\r\n            }\r\n            node.setAttr(key, newVal);\r\n        }\r\n    }\r\n    _addListeners() {\r\n        this.tween.onPlay = () => {\r\n            this.anim.start();\r\n        };\r\n        this.tween.onReverse = () => {\r\n            this.anim.start();\r\n        };\r\n        this.tween.onPause = () => {\r\n            this.anim.stop();\r\n        };\r\n        this.tween.onFinish = () => {\r\n            const node = this.node;\r\n            const attrs = Tween.attrs[node._id][this._id];\r\n            if (attrs.points && attrs.points.trueEnd) {\r\n                node.setAttr('points', attrs.points.trueEnd);\r\n            }\r\n            if (this.onFinish) {\r\n                this.onFinish.call(this);\r\n            }\r\n        };\r\n        this.tween.onReset = () => {\r\n            const node = this.node;\r\n            const attrs = Tween.attrs[node._id][this._id];\r\n            if (attrs.points && attrs.points.trueStart) {\r\n                node.points(attrs.points.trueStart);\r\n            }\r\n            if (this.onReset) {\r\n                this.onReset();\r\n            }\r\n        };\r\n        this.tween.onUpdate = () => {\r\n            if (this.onUpdate) {\r\n                this.onUpdate.call(this);\r\n            }\r\n        };\r\n    }\r\n    play() {\r\n        this.tween.play();\r\n        return this;\r\n    }\r\n    reverse() {\r\n        this.tween.reverse();\r\n        return this;\r\n    }\r\n    reset() {\r\n        this.tween.reset();\r\n        return this;\r\n    }\r\n    seek(t) {\r\n        this.tween.seek(t * 1000);\r\n        return this;\r\n    }\r\n    pause() {\r\n        this.tween.pause();\r\n        return this;\r\n    }\r\n    finish() {\r\n        this.tween.finish();\r\n        return this;\r\n    }\r\n    destroy() {\r\n        const nodeId = this.node._id, thisId = this._id, attrs = Tween.tweens[nodeId];\r\n        this.pause();\r\n        if (this.anim) {\r\n            this.anim.stop();\r\n        }\r\n        for (const key in attrs) {\r\n            delete Tween.tweens[nodeId][key];\r\n        }\r\n        delete Tween.attrs[nodeId][thisId];\r\n        if (Tween.tweens[nodeId]) {\r\n            if (Object.keys(Tween.tweens[nodeId]).length === 0) {\r\n                delete Tween.tweens[nodeId];\r\n            }\r\n            if (Object.keys(Tween.attrs[nodeId]).length === 0) {\r\n                delete Tween.attrs[nodeId];\r\n            }\r\n        }\r\n    }\r\n}\r\nTween.attrs = {};\r\nTween.tweens = {};\r\nNode.prototype.to = function (params) {\r\n    const onFinish = params.onFinish;\r\n    params.node = this;\r\n    params.onFinish = function () {\r\n        this.destroy();\r\n        if (onFinish) {\r\n            onFinish();\r\n        }\r\n    };\r\n    const tween = new Tween(params);\r\n    tween.play();\r\n};\r\nexport const Easings = {\r\n    BackEaseIn(t, b, c, d) {\r\n        const s = 1.70158;\r\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\r\n    },\r\n    BackEaseOut(t, b, c, d) {\r\n        const s = 1.70158;\r\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\r\n    },\r\n    BackEaseInOut(t, b, c, d) {\r\n        let s = 1.70158;\r\n        if ((t /= d / 2) < 1) {\r\n            return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\r\n        }\r\n        return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\r\n    },\r\n    ElasticEaseIn(t, b, c, d, a, p) {\r\n        let s = 0;\r\n        if (t === 0) {\r\n            return b;\r\n        }\r\n        if ((t /= d) === 1) {\r\n            return b + c;\r\n        }\r\n        if (!p) {\r\n            p = d * 0.3;\r\n        }\r\n        if (!a || a < Math.abs(c)) {\r\n            a = c;\r\n            s = p / 4;\r\n        }\r\n        else {\r\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\r\n        }\r\n        return (-(a *\r\n            Math.pow(2, 10 * (t -= 1)) *\r\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b);\r\n    },\r\n    ElasticEaseOut(t, b, c, d, a, p) {\r\n        let s = 0;\r\n        if (t === 0) {\r\n            return b;\r\n        }\r\n        if ((t /= d) === 1) {\r\n            return b + c;\r\n        }\r\n        if (!p) {\r\n            p = d * 0.3;\r\n        }\r\n        if (!a || a < Math.abs(c)) {\r\n            a = c;\r\n            s = p / 4;\r\n        }\r\n        else {\r\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\r\n        }\r\n        return (a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\r\n            c +\r\n            b);\r\n    },\r\n    ElasticEaseInOut(t, b, c, d, a, p) {\r\n        let s = 0;\r\n        if (t === 0) {\r\n            return b;\r\n        }\r\n        if ((t /= d / 2) === 2) {\r\n            return b + c;\r\n        }\r\n        if (!p) {\r\n            p = d * (0.3 * 1.5);\r\n        }\r\n        if (!a || a < Math.abs(c)) {\r\n            a = c;\r\n            s = p / 4;\r\n        }\r\n        else {\r\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\r\n        }\r\n        if (t < 1) {\r\n            return (-0.5 *\r\n                (a *\r\n                    Math.pow(2, 10 * (t -= 1)) *\r\n                    Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\r\n                b);\r\n        }\r\n        return (a *\r\n            Math.pow(2, -10 * (t -= 1)) *\r\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\r\n            0.5 +\r\n            c +\r\n            b);\r\n    },\r\n    BounceEaseOut(t, b, c, d) {\r\n        if ((t /= d) < 1 / 2.75) {\r\n            return c * (7.5625 * t * t) + b;\r\n        }\r\n        else if (t < 2 / 2.75) {\r\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\r\n        }\r\n        else if (t < 2.5 / 2.75) {\r\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\r\n        }\r\n        else {\r\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\r\n        }\r\n    },\r\n    BounceEaseIn(t, b, c, d) {\r\n        return c - Easings.BounceEaseOut(d - t, 0, c, d) + b;\r\n    },\r\n    BounceEaseInOut(t, b, c, d) {\r\n        if (t < d / 2) {\r\n            return Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\r\n        }\r\n        else {\r\n            return Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\r\n        }\r\n    },\r\n    EaseIn(t, b, c, d) {\r\n        return c * (t /= d) * t + b;\r\n    },\r\n    EaseOut(t, b, c, d) {\r\n        return -c * (t /= d) * (t - 2) + b;\r\n    },\r\n    EaseInOut(t, b, c, d) {\r\n        if ((t /= d / 2) < 1) {\r\n            return (c / 2) * t * t + b;\r\n        }\r\n        return (-c / 2) * (--t * (t - 2) - 1) + b;\r\n    },\r\n    StrongEaseIn(t, b, c, d) {\r\n        return c * (t /= d) * t * t * t * t + b;\r\n    },\r\n    StrongEaseOut(t, b, c, d) {\r\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\r\n    },\r\n    StrongEaseInOut(t, b, c, d) {\r\n        if ((t /= d / 2) < 1) {\r\n            return (c / 2) * t * t * t * t * t + b;\r\n        }\r\n        return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\r\n    },\r\n    Linear(t, b, c, d) {\r\n        return (c * t) / d + b;\r\n    },\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}