{"ast":null,"code":"import React,{useState,useEffect}from'react';import API from'../api/api';import{Link,useNavigate}from'react-router-dom';import{motion}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[designs,setDesigns]=useState([]);const navigate=useNavigate();const fetchDesigns=async()=>{try{const res=await API.get('/designs');setDesigns(res.data);}catch(err){console.error(err);}};useEffect(()=>{const token=localStorage.getItem('token');if(!token)navigate('/login');else fetchDesigns();},[]);return/*#__PURE__*/_jsxs(motion.div,{className:\"p-6 bg-gray-50 min-h-screen\",initial:{opacity:0},animate:{opacity:1},transition:{duration:0.8},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"My Designs\"}),/*#__PURE__*/_jsx(Link,{to:\"/editor\",className:\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition mb-4 inline-block\",children:\"Create New Design\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-4 mt-4\",children:designs.map(d=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded p-2 bg-white shadow hover:shadow-lg transition\",children:[d.thumbnailUrl?/*#__PURE__*/_jsx(\"img\",{src:d.thumbnailUrl,alt:d.title,className:\"w-full h-40 object-cover rounded\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-40 bg-gray-200 flex items-center justify-center rounded\",children:\"No Thumbnail\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold mt-2\",children:d.title}),/*#__PURE__*/_jsx(Link,{to:\"/editor?id=\".concat(d._id),className:\"text-blue-600 hover:underline\",children:\"Edit\"})]},d._id))})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","API","Link","useNavigate","motion","jsx","_jsx","jsxs","_jsxs","Dashboard","designs","setDesigns","navigate","fetchDesigns","res","get","data","err","console","error","token","localStorage","getItem","div","className","initial","opacity","animate","transition","duration","children","to","map","d","thumbnailUrl","src","alt","title","concat","_id"],"sources":["C:/Users/lenovo pro/Documents/gncipl-6-week/Week-6_final_project/matty-project/client/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport API from '../api/api';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst Dashboard = () => {\r\n  const [designs, setDesigns] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  const fetchDesigns = async () => {\r\n    try {\r\n      const res = await API.get('/designs');\r\n      setDesigns(res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) navigate('/login');\r\n    else fetchDesigns();\r\n  }, []);\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"p-6 bg-gray-50 min-h-screen\"\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      transition={{ duration: 0.8 }}\r\n    >\r\n      <h1 className=\"text-3xl font-bold mb-6\">My Designs</h1>\r\n      <Link\r\n        to=\"/editor\"\r\n        className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition mb-4 inline-block\"\r\n      >\r\n        Create New Design\r\n      </Link>\r\n      <div className=\"grid grid-cols-3 gap-4 mt-4\">\r\n        {designs.map((d) => (\r\n          <div key={d._id} className=\"border rounded p-2 bg-white shadow hover:shadow-lg transition\">\r\n            {d.thumbnailUrl ? (\r\n              <img src={d.thumbnailUrl} alt={d.title} className=\"w-full h-40 object-cover rounded\" />\r\n            ) : (\r\n              <div className=\"w-full h-40 bg-gray-200 flex items-center justify-center rounded\">No Thumbnail</div>\r\n            )}\r\n            <h2 className=\"text-lg font-bold mt-2\">{d.title}</h2>\r\n            <Link to={`/editor?id=${d._id}`} className=\"text-blue-600 hover:underline\">Edit</Link>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,YAAY,CAC5B,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,MAAM,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAa,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAU,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAb,GAAG,CAACc,GAAG,CAAC,UAAU,CAAC,CACrCJ,UAAU,CAACG,GAAG,CAACE,IAAI,CAAC,CACtB,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAEDjB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAER,QAAQ,CAAC,QAAQ,CAAC,CAAC,IAC1B,CAAAC,YAAY,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEL,KAAA,CAACJ,MAAM,CAACmB,GAAG,EACTC,SAAS,CAAC,6BAA6B,CACvCC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAE,CAAE,CACxBC,OAAO,CAAE,CAAED,OAAO,CAAE,CAAE,CAAE,CACxBE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAAAC,QAAA,eAE9BxB,IAAA,OAAIkB,SAAS,CAAC,yBAAyB,CAAAM,QAAA,CAAC,YAAU,CAAI,CAAC,cACvDxB,IAAA,CAACJ,IAAI,EACH6B,EAAE,CAAC,SAAS,CACZP,SAAS,CAAC,yFAAyF,CAAAM,QAAA,CACpG,mBAED,CAAM,CAAC,cACPxB,IAAA,QAAKkB,SAAS,CAAC,6BAA6B,CAAAM,QAAA,CACzCpB,OAAO,CAACsB,GAAG,CAAEC,CAAC,eACbzB,KAAA,QAAiBgB,SAAS,CAAC,+DAA+D,CAAAM,QAAA,EACvFG,CAAC,CAACC,YAAY,cACb5B,IAAA,QAAK6B,GAAG,CAAEF,CAAC,CAACC,YAAa,CAACE,GAAG,CAAEH,CAAC,CAACI,KAAM,CAACb,SAAS,CAAC,kCAAkC,CAAE,CAAC,cAEvFlB,IAAA,QAAKkB,SAAS,CAAC,kEAAkE,CAAAM,QAAA,CAAC,cAAY,CAAK,CACpG,cACDxB,IAAA,OAAIkB,SAAS,CAAC,wBAAwB,CAAAM,QAAA,CAAEG,CAAC,CAACI,KAAK,CAAK,CAAC,cACrD/B,IAAA,CAACJ,IAAI,EAAC6B,EAAE,eAAAO,MAAA,CAAgBL,CAAC,CAACM,GAAG,CAAG,CAACf,SAAS,CAAC,+BAA+B,CAAAM,QAAA,CAAC,MAAI,CAAM,CAAC,GAP9EG,CAAC,CAACM,GAQP,CACN,CAAC,CACC,CAAC,EACI,CAAC,CAEjB,CAAC,CAED,cAAe,CAAA9B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}