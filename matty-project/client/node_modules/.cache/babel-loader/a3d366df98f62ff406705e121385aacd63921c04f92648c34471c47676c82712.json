{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91822\\\\Piyush\\\\Desktop\\\\Week -6\\\\Week-6_final_project\\\\matty-project\\\\client\\\\src\\\\pages\\\\Editor.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport CanvasEditor from '../components/CanvasEditor';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Editor = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [designData, setDesignData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    setLoading(true);\n    setError(null);\n    const token = localStorage.getItem('token');\n    if (id) {\n      fetch(`http://localhost:5000/api/designs/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => {\n        if (!res.ok) throw new Error('Failed to fetch design');\n        return res.json();\n      }).then(data => {\n        setDesignData(data);\n        setLoading(false);\n      }).catch(err => {\n        setError(err.message);\n        setDesignData({});\n        setLoading(false);\n      });\n    } else {\n      setDesignData({}); // Optional: blank design if no ID\n      setLoading(false);\n    }\n  }, [id]);\n  const containerVariants = {\n    hidden: {\n      opacity: 0,\n      y: 30\n    },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        duration: 0.8,\n        ease: 'easeOut'\n      }\n    },\n    exit: {\n      opacity: 0,\n      y: 20,\n      transition: {\n        duration: 0.5\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 text-gray-100 p-6 relative overflow-hidden\",\n    variants: containerVariants,\n    initial: \"hidden\",\n    animate: \"visible\",\n    exit: \"exit\",\n    children: [/*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"absolute top-20 left-10 w-40 h-40 bg-pink-500 rounded-full opacity-20 blur-3xl z-0\",\n      animate: {\n        y: [0, -30, 0],\n        x: [0, 30, 0]\n      },\n      transition: {\n        repeat: Infinity,\n        duration: 10,\n        ease: 'easeInOut'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"absolute bottom-10 right-20 w-60 h-60 bg-yellow-400 rounded-full opacity-20 blur-3xl z-0\",\n      animate: {\n        y: [0, -20, 0],\n        x: [0, -25, 0]\n      },\n      transition: {\n        repeat: Infinity,\n        duration: 12,\n        ease: 'easeInOut'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.h1, {\n      className: \"text-4xl md:text-5xl font-extrabold text-white text-center mb-6 relative z-10\",\n      initial: {\n        opacity: 0,\n        y: -20\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        duration: 0.8\n      },\n      children: \"Edit Design\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-96\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"w-24 h-24 border-4 border-t-pink-500 border-gray-600 rounded-full animate-spin\",\n        animate: {\n          rotate: 360\n        },\n        transition: {\n          repeat: Infinity,\n          duration: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"text-red-400 text-center py-20 font-semibold\",\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"relative z-10\",\n      initial: {\n        opacity: 0,\n        scale: 0.95\n      },\n      animate: {\n        opacity: 1,\n        scale: 1\n      },\n      transition: {\n        duration: 0.8,\n        ease: 'easeOut'\n      },\n      children: /*#__PURE__*/_jsxDEV(CanvasEditor, {\n        initialData: designData || {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"absolute bottom-4 w-full text-center text-gray-400 text-sm\",\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      transition: {\n        delay: 1.2\n      },\n      children: \"\\uD83C\\uDFA8 Your creations are auto-saved as you work!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(Editor, \"+HUrcBxZ2ucwmi/e2RQdDICiJ2w=\", false, function () {\n  return [useParams];\n});\n_c = Editor;\nexport default Editor;\nvar _c;\n$RefreshReg$(_c, \"Editor\");","map":{"version":3,"names":["React","useEffect","useState","useParams","motion","CanvasEditor","jsxDEV","_jsxDEV","Editor","_s","id","designData","setDesignData","loading","setLoading","error","setError","token","localStorage","getItem","fetch","headers","Authorization","then","res","ok","Error","json","data","catch","err","message","containerVariants","hidden","opacity","y","visible","transition","duration","ease","exit","div","className","variants","initial","animate","children","x","repeat","Infinity","fileName","_jsxFileName","lineNumber","columnNumber","h1","rotate","scale","initialData","delay","_c","$RefreshReg$"],"sources":["C:/Users/91822/Piyush/Desktop/Week -6/Week-6_final_project/matty-project/client/src/pages/Editor.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport CanvasEditor from '../components/CanvasEditor';\r\n\r\nconst Editor = () => {\r\n  const { id } = useParams();\r\n  const [designData, setDesignData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setError(null);\r\n    const token = localStorage.getItem('token');\r\n\r\n    if (id) {\r\n      fetch(`http://localhost:5000/api/designs/${id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) throw new Error('Failed to fetch design');\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          setDesignData(data);\r\n          setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          setError(err.message);\r\n          setDesignData({});\r\n          setLoading(false);\r\n        });\r\n    } else {\r\n      setDesignData({}); // Optional: blank design if no ID\r\n      setLoading(false);\r\n    }\r\n  }, [id]);\r\n\r\n  const containerVariants = {\r\n    hidden: { opacity: 0, y: 30 },\r\n    visible: { opacity: 1, y: 0, transition: { duration: 0.8, ease: 'easeOut' } },\r\n    exit: { opacity: 0, y: 20, transition: { duration: 0.5 } },\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 text-gray-100 p-6 relative overflow-hidden\"\r\n      variants={containerVariants}\r\n      initial=\"hidden\"\r\n      animate=\"visible\"\r\n      exit=\"exit\"\r\n    >\r\n      {/* Floating background accent blobs */}\r\n      <motion.div\r\n        className=\"absolute top-20 left-10 w-40 h-40 bg-pink-500 rounded-full opacity-20 blur-3xl z-0\"\r\n        animate={{ y: [0, -30, 0], x: [0, 30, 0] }}\r\n        transition={{ repeat: Infinity, duration: 10, ease: 'easeInOut' }}\r\n      />\r\n      <motion.div\r\n        className=\"absolute bottom-10 right-20 w-60 h-60 bg-yellow-400 rounded-full opacity-20 blur-3xl z-0\"\r\n        animate={{ y: [0, -20, 0], x: [0, -25, 0] }}\r\n        transition={{ repeat: Infinity, duration: 12, ease: 'easeInOut' }}\r\n      />\r\n\r\n      {/* Header */}\r\n      <motion.h1\r\n        className=\"text-4xl md:text-5xl font-extrabold text-white text-center mb-6 relative z-10\"\r\n        initial={{ opacity: 0, y: -20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.8 }}\r\n      >\r\n        Edit Design\r\n      </motion.h1>\r\n\r\n      {/* Loader or Error */}\r\n      {loading ? (\r\n        <div className=\"flex justify-center items-center h-96\">\r\n          <motion.div\r\n            className=\"w-24 h-24 border-4 border-t-pink-500 border-gray-600 rounded-full animate-spin\"\r\n            animate={{ rotate: 360 }}\r\n            transition={{ repeat: Infinity, duration: 1 }}\r\n          />\r\n        </div>\r\n      ) : error ? (\r\n        <motion.div\r\n          className=\"text-red-400 text-center py-20 font-semibold\"\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n        >\r\n          Error: {error}\r\n        </motion.div>\r\n      ) : (\r\n        <motion.div\r\n          className=\"relative z-10\"\r\n          initial={{ opacity: 0, scale: 0.95 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          transition={{ duration: 0.8, ease: 'easeOut' }}\r\n        >\r\n          {/* CanvasEditor */}\r\n          <CanvasEditor initialData={designData || {}} />\r\n        </motion.div>\r\n      )}\r\n\r\n      {/* Footer Note */}\r\n      <motion.div\r\n        className=\"absolute bottom-4 w-full text-center text-gray-400 text-sm\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ delay: 1.2 }}\r\n      >\r\n        🎨 Your creations are auto-saved as you work!\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default Editor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}